<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Helpdesk</title>
</head>

<style>

.accordion {
  background-color:#ababab;
  color: white;
  font-color:white;
  cursor: pointer;
  padding: 18px;
  width: 100%;
  border: none;
  margin-top:5px;
  text-align: center;
  outline: none;
  font-size: 15px;
  transition: 0.4s;
}

.accordion:hover {
  background-color: #ccc;
}

.dropdown-content a {
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
}

.dropdown-content a:hover {background-color: #4b4747;}


</style>


<body onload="start()" >
<link rel="stylesheet" href="dashboard.css">
<link rel="stylesheet" href="../bootstrap-4.3.1-dist/css/bootstrap.css">
<nav class="navbar bg-dark top">
    <div class="container-fluid">
        <div class="navbar-header">
            <div class="navbar-brand" style="color: white"><img src="https://via.placeholder.com/80" alt="logo"> Make-It-All
            </div>
        </div>
        <ul class="nav justify-content-end">
            <li class="nav-item">
                <div class="dropdown">
                    <button class="dropbtn" onclick="showNotifications()" id="noti-btn"><img
                            src="../open-iconic-master/png/bell-3x.png" alt="" >
                        <br> <a
                                style="font-size: 9pt;" id="text">
                            Notifications
                        </a>
                    </button>
                    <div class="dropdown-content" id="notifications">
                        <a href="">Example </a>
                        <a href="">Example </a>
                        <a href="">Example </a>
                    </div>
                </div>
            </li>
            <li class="nav-item">
                <div class="dropdown">
                    <a href="graphs.html">
                        <button class="dropbtn" onclick="window.location = 'graphs.html'">
                            <img src="../open-iconic-master/png/pie-chart-3x.png" alt="analyse"> <br> <a
                                style="font-size: 9pt">
                            Analysis
                        </a>
                        </button>
                    </a>
                </div>
            </li>
            <li class='nav-item'>
                <div class="">
                    <a href="login.html">
                        <button class="dropbtn" onclick="window.location = 'login.html'">
                            <img src="../open-iconic-master/png/account-logout-3x.png" alt="logout">
                            <br> <a
                                style="font-size: 9pt">
                            Logout
                        </a>
                        </button>
                    </a>
                </div>
            </li>
        </ul>
    </div>
</nav>
<ul class="breadcrumb">
    <li><a>Specialist Dashboard</a></li>
</ul>


<script>

	function start() {
	
		var problem_file = '{"problems_referred":[' +
		'{"problem_id":"100","problem_type":"Network","specialist_name":"Bert"},'+'{"problem_id":"567","problem_type":"Hardware","specialist_name":"Bert"},'+'{"problem_id":"646","problem_type":"Software","specialist_name":"Bert"}]}';
		
		var problem_object = JSON.parse(problem_file);
		
		for (i in problem_object.problems_referred) {
			var btn = document.createElement("BUTTON");
			btn.setAttribute("class", "accordion");
			btn.innerHTML='<img src="../open-iconic-master/png/flag-2x.png" alt="flag">'+'&nbsp; &nbsp;'+'ID:'+problem_object.problems_referred[i].problem_id+'&nbsp; &nbsp;'+"Problem type: "+problem_object.problems_referred[i].problem_type+'&nbsp; &nbsp;'+'<a href="existing-issue-details.html">' +
                '<button class="btn btn-dark" href="existing-issue-details.html">View Details</button></a>';
			document.body.appendChild(btn);
		}
		
	}
	
	
	var acc = document.getElementsByClassName("accordion");
	var i;

	for (i = 0; i < acc.length; i++) {
	  acc[i].addEventListener("click", function() {
		this.classList.toggle("active");
		var panel = this.nextElementSibling;
		if (panel.style.display === "block") {
		  panel.style.display = "none";
		} else {
		  panel.style.display = "block";
		}
	  });
	}

    $(document).keyup(function (e) {
        if (e.key === "Escape") {
            document.getElementById('notifications').style.display = 'none';
        }
    });
    document.getElementById('noti-btn').addEventListener("click", showNotifications);
    function showNotifications() {
        document.getElementById('notifications').style.display = 'block';
    }
</script>
</body>
</html>
