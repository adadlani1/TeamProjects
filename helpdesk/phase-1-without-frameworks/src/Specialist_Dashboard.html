<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Helpdesk</title>
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="../bootstrap-4.3.1-dist/css/bootstrap.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="app.js"></script>

</head>
<body onload="start()" >
<nav class="navbar bg-dark top">
    <div class="container-fluid">
        <div class="navbar-header">
            <div class="navbar-brand" style="color: white"><img src="https://via.placeholder.com/80" alt="logo"> Make-It-All
            </div>
        </div>
        <ul class="nav justify-content-end">
            <li class="nav-item">
                <div class="dropdown">
                    <button class="dropbtn" onclick="showNotifications()" id="noti-btn"><img
                            src="../open-iconic-master/png/bell-3x.png" alt="" >
                        <br> <a
                                style="font-size: 9pt;" id="text">
                            Notifications
                        </a>
                    </button>
                    <div class="dropdown-content" id="notifications">
                        <a href="">Example </a>
                        <a href="">Example </a>
                        <a href="">Example </a>
                    </div>
                </div>
            </li>
            <!-- <li class="nav-item">
                <div class="dropdown">
                    <a href="graphs.html">
                        <button class="dropbtn" onclick="window.location = 'graphs.html'">
                            <img src="../open-iconic-master/png/pie-chart-3x.png" alt="analyse"> <br> <a
                                style="font-size: 9pt">
                            Analysis
                        </a>
                        </button>
                    </a>
                </div>
            </li> -->
            <li class='nav-item'>
                    <div class="">
                          <button class="dropbtn" data-toggle="modal" data-target='#logout-modal'>
                          <img src="../open-iconic-master/png/account-logout-3x.png" alt="logout">
                          <br> <a
                                style="font-size: 9pt">
                          Logout
                        </a>
                        </button>
                      </a>
                    </div>
            </li>
        </ul>
    </div>
</nav>
<ul class="breadcrumb">
    <li><a>Specialist Dashboard</a></li>
</ul>

<div class="modal fade" id="logout-modal">
        <div class="modal-dialog">
            <div class="modal-content">
    
                <div class="modal-header">
                    <h4 class="modal-title">Are you sure you want to log out?</h4>
                </div>
                <div class="modal-footer">
                        <button class="btn btn-lg btn-dark" onclick="window.location = 'login.html'">Yes
                            </button>
                    <button class="btn btn-lg btn-primary" data-dismiss="modal"
                    >Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>
<script>

	function start() {

        for (var i = 0; i < data.length; i++) {
            //Selects all issues assigned to bert and creates a button.
            if (data[i]['specialist'].toLowerCase() == "bert") {
                var btn = document.createElement("BUTTON");
                btn.setAttribute("class", "accordion");
                btn.setAttribute("data-id", data[i]['problem_id']);
                btn.innerHTML='<img src="../open-iconic-master/png/flag-2x.png" alt="flag">' + '&nbsp; &nbsp;' + 'ID:' +
                    data[i]['problem_id'] + '&nbsp; &nbsp;' + "Problem type: " +
                    data[i]['problem_type']+'&nbsp; &nbsp;'+'<a href="specialist-issue-details.html" onclick=setID(' + data[i]["problem_id"] + ')>' +
                    '<button class="btn btn-dark" href="specialist-issue-details.html">View Details</button></a>';
                document.body.appendChild(btn);
            }
        }
	}
	
	
	var acc = document.getElementsByClassName("accordion");
	var i;

	for (i = 0; i < acc.length; i++) {
	  acc[i].addEventListener("click", function() {
		this.classList.toggle("active");
		var panel = this.nextElementSibling;
		if (panel.style.display === "block") {
		  panel.style.display = "none";
		} else {
		  panel.style.display = "block";
		}
	  });
	}

    $(document).keyup(function (e) {
        if (e.key === "Escape") {
            document.getElementById('notifications').style.display = 'none';
        }
    });
    document.getElementById('noti-btn').addEventListener("click", showNotifications);
    function showNotifications() {
        document.getElementById('notifications').style.display = 'block';
    }
</script>
</body>
</html>
